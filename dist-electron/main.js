"use strict";const{app:o,BrowserWindow:n}=require("electron"),r=require("path"),i=process.env.NODE_ENV==="development";i&&(process.env.VITE_DEV_SERVER_URL="http://localhost:5173");let e=null;function t(){e||(e=new n({width:800,height:600,center:!0,resizable:!0,autoHideMenuBar:!0,webPreferences:{nodeIntegration:!0,contextIsolation:!1}}),e.maximize(),e.webContents.openDevTools(),e.on("closed",()=>{e=null}),i?setTimeout(()=>{e&&e.loadURL("http://localhost:5173").catch(()=>{console.log("Failed to load dev server, retrying...")})},2e3):e.loadFile(r.join(__dirname,"../dist/index.html")).catch(l=>{console.error("Failed to load app:",l)}))}o.whenReady().then(()=>{t(),o.on("activate",function(){n.getAllWindows().length===0&&t()})});o.on("window-all-closed",function(){process.platform!=="darwin"&&o.quit()});
